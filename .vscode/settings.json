{
    "chat.tools.terminal.autoApprove": {
        "pip": true,
        "/^cd /workspaces/IncuNest-Docs/docs && python - <<'PY'\nimport argostranslate\\.package, argostranslate\\.translate\n\nlangs = \\[\\('es','en'\\), \\('es','pt'\\), \\('es','fr'\\)\\]\n\n# Update package index\nargostranslate\\.package\\.update_package_index\\(\\)\navailable = argostranslate\\.package\\.get_available_packages\\(\\)\n\ndef install_pair\\(fr, to\\):\n    pkg = next\\(\\(p for p in available if p\\.from_code==fr and p\\.to_code==to\\), None\\)\n    if not pkg:\n        raise SystemExit\\(f'No package for \\{fr\\}->\\{to\\}'\\)\n    path = pkg\\.download\\(\\)\n    argostranslate\\.package\\.install_from_path\\(path\\)\n    print\\(f'Installed \\{fr\\}->\\{to\\}'\\)\n\nfor fr,to in langs:\n    install_pair\\(fr,to\\)\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "/^cd /workspaces/IncuNest-Docs/docs && python - <<'PY'\nimport argostranslate\\.package\nargostranslate\\.package\\.update_package_index\\(\\)\navailable = argostranslate\\.package\\.get_available_packages\\(\\)\n\ndef install_pair\\(fr,to\\):\n    pkg = next\\(\\(p for p in available if p\\.from_code==fr and p\\.to_code==to\\), None\\)\n    if not pkg:\n        raise SystemExit\\(f'No package for \\{fr\\}->\\{to\\}'\\)\n    path = pkg\\.download\\(\\)\n    argostranslate\\.package\\.install_from_path\\(path\\)\n    print\\(f'Installed \\{fr\\}->\\{to\\}'\\)\n\ninstall_pair\\('en','fr'\\)\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "/^cd /workspaces/IncuNest-Docs/docs && python - <<'PY'\nimport re\nfrom pathlib import Path\nimport argostranslate\\.translate as tr\n\nSRC_DIR = Path\\('versioned_docs/version-14\\.12'\\)\nTARGETS = \\{\n    'en': \\('es','en'\\),\n    'pt': \\('es','pt'\\),\n    'fr': \\('en','fr'\\),  # via English\n\\}\n\nCODE_FENCE_RE = re\\.compile\\(r'\\^```'\\)\nINLINE_CODE_RE = re\\.compile\\(r'`\\[\\^`\\]\\*`'\\)\nLINK_RE = re\\.compile\\(r'\\(!\\?\\\\\\[\\[\\^\\\\\\]\\]\\*\\\\\\]\\)\\\\\\(\\(\\[\\^\\)\\]\\+\\)\\\\\\)'\\)\n\nREPLACEMENTS = \\{\n    '\\{device_ip\\}': '<device_ip>',\n    '/api/alarms/\\{id\\}/acknowledge': '/api/alarms/:id/acknowledge',\n\\}\n\n\ndef translate_block\\(text, from_code, to_code\\):\n    if not text\\.strip\\(\\):\n        return text\n    return tr\\.translate\\(text, from_code, to_code\\)\n\n\ndef protect_inline\\(text\\):\n    codes = \\[\\]\n    def repl\\(m\\):\n        codes\\.append\\(m\\.group\\(0\\)\\)\n        return f'@@CODE\\{len\\(codes\\)-1\\}@@'\n    text = INLINE_CODE_RE\\.sub\\(repl, text\\)\n\n    links = \\[\\]\n    def repl_link\\(m\\):\n        links\\.append\\(m\\.group\\(2\\)\\)\n        return f'\\{m\\.group\\(1\\)\\}\\(@@URL\\{len\\(links\\)-1\\}@@\\)'\n    text = LINK_RE\\.sub\\(repl_link, text\\)\n\n    return text, codes, links\n\n\ndef restore_inline\\(text, codes, links\\):\n    for i, c in enumerate\\(codes\\):\n        text = text\\.replace\\(f'@@CODE\\{i\\}@@', c\\)\n    for i, u in enumerate\\(links\\):\n        text = text\\.replace\\(f'@@URL\\{i\\}@@', u\\)\n    return text\n\n\ndef translate_markdown\\(md, from_code, to_code\\):\n    lines = md\\.splitlines\\(\\)\n    out = \\[\\]\n    in_code = False\n    buffer = \\[\\]\n\n    def flush_buffer\\(\\):\n        nonlocal buffer\n        if not buffer:\n            return\n        block = '\\\\n'\\.join\\(buffer\\)\n        for k, v in REPLACEMENTS\\.items\\(\\):\n            block = block\\.replace\\(k, v\\)\n        protected, codes, links = protect_inline\\(block\\)\n        translated = translate_block\\(protected, from_code, to_code\\)\n        translated = restore_inline\\(translated, codes, links\\)\n        out\\.extend\\(translated\\.split\\('\\\\n'\\)\\)\n        buffer = \\[\\]\n\n    for line in lines:\n        if CODE_FENCE_RE\\.match\\(line\\):\n            flush_buffer\\(\\)\n            in_code = not in_code\n            out\\.append\\(line\\)\n            continue\n        if in_code:\n            out\\.append\\(line\\)\n            continue\n        if line\\.strip\\(\\) == '':\n            flush_buffer\\(\\)\n            out\\.append\\(line\\)\n            continue\n        buffer\\.append\\(line\\)\n\n    flush_buffer\\(\\)\n    return '\\\\n'\\.join\\(out\\)\n\n\ndef translate_frontmatter\\(fm, from_code, to_code\\):\n    out = \\[\\]\n    for line in fm\\.splitlines\\(\\):\n        if ':' not in line:\n            out\\.append\\(line\\)\n            continue\n        key, val = line\\.split\\(':', 1\\)\n        key_strip = key\\.strip\\(\\)\n        val_strip = val\\.strip\\(\\)\n        if key_strip in \\{'id', 'sidebar_position'\\}:\n            out\\.append\\(line\\)\n            continue\n        if key_strip in \\{'title', 'sidebar_label', 'description'\\}:\n            val_clean = val_strip\\.strip\\('\"'\\)\n            if val_clean:\n                trans = translate_block\\(val_clean, from_code, to_code\\)\n                out\\.append\\(f'\\{key_strip\\}: \\{trans\\}'\\)\n            else:\n                out\\.append\\(line\\)\n            continue\n        if key_strip == 'keywords':\n            # keep as-is if list inline\n            out\\.append\\(line\\)\n            continue\n        out\\.append\\(line\\)\n    return '\\\\n'\\.join\\(out\\)\n\n\ndef split_frontmatter\\(text\\):\n    if text\\.startswith\\('---'\\):\n        parts = text\\.split\\('---', 2\\)\n        if len\\(parts\\) >= 3:\n            return parts\\[1\\]\\.strip\\('\\\\n'\\), parts\\[2\\]\\.lstrip\\('\\\\n'\\)\n    return None, text\n\n\nfiles = list\\(SRC_DIR\\.rglob\\('\\*\\.md'\\)\\)\nprint\\(f'Translating \\{len\\(files\\)\\} files\\.\\.\\.'\\)\n\nfor lang, \\(from_code, to_code\\) in TARGETS\\.items\\(\\):\n    target_root = Path\\('i18n'\\) / lang / 'docusaurus-plugin-content-docs' / 'version-14\\.12'\n    target_root\\.mkdir\\(parents=True, exist_ok=True\\)\n    for src in files:\n        rel = src\\.relative_to\\(SRC_DIR\\)\n        dst = target_root / rel\n        dst\\.parent\\.mkdir\\(parents=True, exist_ok=True\\)\n        text = src\\.read_text\\(encoding='utf-8'\\)\n        fm, body = split_frontmatter\\(text\\)\n        if from_code == 'en' and to_code == 'fr':\n            # Translate Spanish to English first for FR pipeline\n            body_es = body\n            fm_es = fm\n            body_en = translate_markdown\\(body_es, 'es', 'en'\\)\n            body_tr = translate_markdown\\(body_en, 'en', 'fr'\\)\n            fm_en = translate_frontmatter\\(fm_es, 'es', 'en'\\) if fm_es else None\n            fm_tr = translate_frontmatter\\(fm_en, 'en', 'fr'\\) if fm_en else None\n        else:\n            body_tr = translate_markdown\\(body, from_code, to_code\\)\n            fm_tr = translate_frontmatter\\(fm, from_code, to_code\\) if fm else None\n\n        if fm_tr is not None:\n            out = '---\\\\n' \\+ fm_tr \\+ '\\\\n---\\\\n\\\\n' \\+ body_tr\n        else:\n            out = body_tr\n        dst\\.write_text\\(out, encoding='utf-8'\\)\n    print\\(f'Completed \\{lang\\}'\\)\n\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "/^cd /workspaces/IncuNest-Docs/docs && python - <<'PY'\nimport os, hashlib\nfrom pathlib import Path\n\nroot = Path\\('versioned_docs/version-14\\.12'\\)\nlangs = \\['en','pt','fr'\\]\n\nsrc_files = \\[p for p in root\\.rglob\\('\\*\\.md'\\)\\]\n\nprint\\('Total source files:', len\\(src_files\\)\\)\n\nsrc_map = \\{p\\.relative_to\\(root\\): p for p in src_files\\}\n\nfor lang in langs:\n    lang_root = Path\\(f'i18n/\\{lang\\}/docusaurus-plugin-content-docs/version-14\\.12'\\)\n    lang_files = \\[p for p in lang_root\\.rglob\\('\\*\\.md'\\)\\]\n    print\\('\\\\nLanguage:', lang\\)\n    print\\('  Files present:', len\\(lang_files\\)\\)\n    missing = \\[rel for rel in src_map if not \\(lang_root/rel\\)\\.exists\\(\\)\\]\n    print\\('  Missing:', len\\(missing\\)\\)\n    # Compare identical content to ES to detect untranslated\n    identical = 0\n    for rel, src in src_map\\.items\\(\\):\n        tgt = lang_root/rel\n        if not tgt\\.exists\\(\\):\n            continue\n        if src\\.read_bytes\\(\\) == tgt\\.read_bytes\\(\\):\n            identical \\+= 1\n    print\\('  Identical to ES:', identical\\)\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "/^cd /workspaces/IncuNest-Docs/docs && python - <<'PY'\nimport sys, subprocess, json, os\nprint\\('python ok'\\)\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "/^cd /workspaces/IncuNest-Docs/docs && python - <<'PY'\nimport argostranslate\\.package, os, urllib\\.request, json\n# Download package index\nindex_url = 'https://www\\.argosopentech\\.com/argospm/index/'\nindex = json\\.load\\(urllib\\.request\\.urlopen\\(index_url\\)\\)\n# Filter es->en, es->pt, es->fr\npairs = \\[\\('es','en'\\),\\('es','pt'\\),\\('es','fr'\\)\\]\npackages = \\{\\}\nfor p in index:\n    if p\\['from_code'\\] == 'es' and p\\['to_code'\\] in \\['en','pt','fr'\\]:\n        packages\\[\\(p\\['from_code'\\], p\\['to_code'\\]\\)\\] = p\n\nprint\\('Found:', packages\\.keys\\(\\)\\)\n# download and install\nfor \\(f,t\\), p in packages\\.items\\(\\):\n    url = p\\['links'\\]\\[0\\]\n    fname = f\"/tmp/argos-\\{f\\}-\\{t\\}\\.argosmodel\"\n    print\\('Downloading', url\\)\n    urllib\\.request\\.urlretrieve\\(url, fname\\)\n    argostranslate\\.package\\.install_from_path\\(fname\\)\n    print\\('Installed', f, t\\)\nPY$/": {
            "approve": true,
            "matchCommandLine": true
        }
    }
}